<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>FunWithDates - Age, Zodiac & Love Compatibility</title>
<style>
    body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f0f8ff; color:#333; text-align:center; }
    header { background:#6a5acd; color:white; padding:20px 0; }
    h1 { margin:0; font-size:2rem; }
    section { padding:20px; margin:10px auto; max-width:400px; background:white; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,0.1); }
    input, button { padding:10px; margin:5px 0; width:80%; border-radius:5px; border:1px solid #ccc; font-size:1rem; }
    button { background:#6a5acd; color:white; border:none; cursor:pointer; }
    button:hover { background:#7b68ee; }
    .result { margin-top:15px; font-weight:bold; font-size:1.1rem; color:#6a5acd; }
    a { text-decoration:none; color:white; display:inline-block; background:#ff4500; padding:10px 15px; border-radius:5px; margin-top:10px; }
    a:hover { background:#ff6347; }
    #newsletterModal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); }
    #newsletterContent { background:white; padding:20px; border-radius:10px; max-width:300px; margin:100px auto; text-align:center; }
</style>
</head>
<body>

<header>
    <h1>FunWithDates</h1>
    <p>Discover Your Age, Zodiac & Love Compatibility Instantly!</p>
</header>

<!-- Top Banner Ad -->
<section>
    <div style="background:#ffeb3b; padding:10px; border-radius:5px; margin-bottom:10px;">
        🔥 Check out cool gifts for your Zodiac sign! <a href="https://www.amazon.in/s?k=zodiac+gifts" target="_blank">Shop Now</a>
    </div>
</section>

<!-- Age Calculator -->
<section>
    <h2>Age Calculator</h2>
    <input type="date" id="birthdate" />
    <button onclick="calculateAge()">Calculate Age</button>
    <div id="ageResult" class="result"></div>
</section>

<!-- Zodiac Sign -->
<section>
    <h2>Zodiac Sign</h2>
    <button onclick="showZodiac()">Show Zodiac</button>
    <div id="zodiacResult" class="result"></div>
</section>

<!-- Love Compatibility -->
<section>
    <h2>Love Compatibility</h2>
    <input type="text" id="name1" placeholder="Your Name" />
    <input type="text" id="name2" placeholder="Partner's Name" />
    <button onclick="loveCompatibility()">Check Compatibility</button>
    <div id="loveResult" class="result"></div>
</section>

<!-- Share Result -->
<section>
    <h2>Share Your Result</h2>
    <button onclick="shareResult()">Generate Shareable Image</button>
    <br />
    <canvas id="shareCanvas" style="display:none;"></canvas>
    <a id="downloadLink" style="display:none;" download="FunWithDates.png">Download & Share 🎉</a>
</section>

<!-- Email Capture Modal -->
<div id="newsletterModal">
    <div id="newsletterContent">
        <h3>Get Weekly Fun Tools & Horoscopes!</h3>
        <input type="email" id="emailInput" placeholder="Your Email" />
        <button onclick="subscribeEmail()">Subscribe</button>
        <br /><br />
        <button onclick="closeModal()">Close</button>
    </div>
</div>

<script>
let ageText = "";
let zodiacText = "";
let loveText = "";

// Age Calculator
function calculateAge() {
    const birth = new Date(document.getElementById('birthdate').value);
    if (!birth.getTime()) {
        document.getElementById('ageResult').innerText = 'Please enter a valid date!';
        return;
    }
    const today = new Date();
    let age = today.getFullYear() - birth.getFullYear();
    const m = today.getMonth() - birth.getMonth();
    if (m < 0 || (m === 0 && today.getDate() < birth.getDate())) age--;
    ageText = `Age: ${age} years 🎉`;
    document.getElementById('ageResult').innerText = ageText;
}

// Zodiac Sign
function showZodiac() {
    const birth = new Date(document.getElementById('birthdate').value);
    if (!birth.getTime()) {
        document.getElementById('zodiacResult').innerText = 'Please enter your birthdate above!';
        return;
    }
    const day = birth.getDate();
    const month = birth.getMonth() + 1;
    const zodiacSigns = [
        {sign:"Capricorn", end:19},{sign:"Aquarius", end:18},{sign:"Pisces", end:20},
        {sign:"Aries", end:19},{sign:"Taurus", end:20},{sign:"Gemini", end:20},
        {sign:"Cancer", end:22},{sign:"Leo", end:22},{sign:"Virgo", end:22},
        {sign:"Libra", end:22},{sign:"Scorpio", end:21},{sign:"Sagittarius", end:21},
        {sign:"Capricorn", end:31}
    ];
    const z = (day <= zodiacSigns[month-1].end) ? zodiacSigns[month-1].sign : zodiacSigns[month].sign;
    zodiacText = `Zodiac: ${z} ✨`;
    document.getElementById('zodiacResult').innerText = zodiacText;
}

// Love Compatibility
function loveCompatibility() {
    const n1 = document.getElementById('name1').value.trim();
    const n2 = document.getElementById('name2').value.trim();
    if(!n1 || !n2) {
        document.getElementById('loveResult').innerText = 'Enter both names!';
        return;
    }
    const score = Math.floor(Math.random()*101);
    let message = "";
    if(score > 80) message = "A perfect match! ❤";
    else if(score > 60) message = "Looking good! 💕";
    else if(score > 40) message = "Could work, give it time 💖";
    else message = "Better luck next time! 💔";
    loveText = `${n1} & ${n2} Compatibility: ${score}% - ${message}`;
    document.getElementById('loveResult').innerText = loveText;

    // Show newsletter popup 50% of the time
    if(Math.random() < 0.5) showModal();
}

// Generate Shareable Image
function shareResult() {
    if(!ageText || !zodiacText || !loveText) {
        alert("Please calculate all results first!");
        return;
    }
    const canvas = document.getElementById('shareCanvas');
    canvas.width = 600;
    canvas.height = 400;
    const ctx = canvas.getContext('2d');
    
    ctx.fillStyle = "#f0f8ff";
    ctx.fillRect(0,0,canvas.width, canvas.height);
    
    ctx.fillStyle = "#6a5acd";
    ctx.font = "bold 28px Arial";
    ctx.textAlign = "center";
    ctx.fillText("FunWithDates Results", canvas.width/2, 50);
    
    ctx.font = "24px Arial";
    ctx.fillText(ageText, canvas.width/2, 150);
    ctx.fillText(zodiacText, canvas.width/2, 220);
    ctx.fillText(loveText, canvas.width/2, 290);
    
    const link = document.getElementById('downloadLink');
    link.href = canvas.toDataURL("image/png");
    link.style.display = "block";
    link.innerText = "Download & Share Your Result 🎉";
}

// Email capture modal
function showModal() {
    document.getElementById('newsletterModal').style.display = 'block';
}
function closeModal() {
    document.getElementById('newsletterModal').style.display = 'none';
}
function subscribeEmail() {
    const email = document.getElementById('emailInput').value.trim();
    if(!email) { alert("Enter a valid email!"); return; }
    alert(`Thank you for subscribing, ${email}! 🎉`);
    closeModal();
    // Optionally, connect to email marketing service here
}
</script>

</body>
</html>
